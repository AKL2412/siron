{%extends '::layout.html.twig'%}
{%block title%}
{{parent()}}
| Fonctions
{%endblock%}
{%block position %}
  {{parent()}}
          <li >
          	<a href="{{url('trc_admin_fonctions')}} ">
              <i class="fa-tags fa"></i>
          		Fonctions
          	</a>
          </li>
{%endblock position%}
{%block titrepage%}
    Fonctions 
{%endblock titrepage%}
 {%block avancement%}     
 {%endblock avancement%}     
{%block content%}
<div class="row">
    <div class="col-md-5 col-md-offset-2-">
          <!-- general form elements -->
          <div class="box box-primary">
            <div class="box-header with-border">
              <h3 class="box-title">Ajouter une fonction</h3>
            </div>
            <!-- /.box-header -->
            <!-- form start -->
          
            {{form_start(form)}}
           
              <div class="box-body">
                  
                
                    <div class="form-group">
                      <label for="exampleInputEmail1">Nom de la fonction</label>
                      
                      {{form_widget(form.nom,{'attr':{'class':'form-control'}})}}
                    </div>
                    <div class="form-group">
                      <label for="exampleInputEmail1">Code de la fonction</label>
                      
                      {{form_widget(form.code,{'attr':{'class':'form-control'}})}}
                    </div>
                   
                    <div class="form-group">
                      <label for="exampleInputEmail1">Est elle responsable de son entité?</label>
                      
                      {{form_widget(form.responsable,{'attr':{'class':'form-control'}})}}
                    </div>
                    <div class="form-group">
                      <label for="exampleInputEmail1">Brève description de la  fonction</label>
                      
                      {{form_widget(form.actions,{'attr':{'class':'form-control textarea'}})}}
                    </div>
              <!-- /.box-body -->

              <div class="box-footer">
                {{form_widget(form.save,{'attr':{'class':'btn btn-primary'}})}}
              </div>
            {{form_end(form)}}
          </div>


        </div>
</div>
  <div class="col-md-7">
    <div class="box box-primary">
  <div class="box-header with-border">
    <h3 class="box-title">Les fonction</h3>

      <div class="box-tools pull-right">
        <button type="button" class="btn btn-box-tool" data-widget="collapse"><i class="fa fa-minus"></i>
      </button>
      <button type="button" class="btn btn-box-tool" data-widget="remove"><i class="fa fa-times"></i></button>
      </div>
  </div>
           
  <div class="box-body">
  <div>
    <table class="table">
      <tr>
        <th>{{ knp_pagination_sortable(pagination, 'Code', 'a.code') }}</th>
        <th{% if pagination.isSorted('a.nom') %} class="sorted"{% endif %}>{{ knp_pagination_sortable(pagination, 'nom', 'a.nom') }}</th>
        
        <th>Entité</th> 
      </tr>
        {% for article in pagination %}
          <tr {% if loop.index is odd %}class="color"{% endif %}>
            <td>{{ article.code }}</td>
            <td>{{ article.nom }}</td>
            <td>
            {%if article.responsable %}
              <i class="fa-user-secret fa text-success"></i>
            {%endif%}
            <a href="{{url('trc_admin_fonctions_modif',{id:article.id})}} ">
              <i class="fa-edit fa"></i>
            </a>
            </td>
           <!--  <td>{{ article.dateajout | date('Y-m-d') }}</td> -->
          </tr>
        {% endfor %}
    </table>
    <div class="navigation">
      {{ knp_pagination_render(pagination) }}
    </div>
  </div>
  <div class="box-footer text-center">
    {{ pagination.getTotalItemCount }} fonction(s) 
  </div>
</div>


</div>
  </div>
</div>


{%endblock%}

{%block script%}
<script type="text/javascript">
    activeLink("fonctions")
</script>
{%endblock script%}